var smileyReverseMap={},smileyMap={};smileyMapnam=dropdownsmiliesname.concat(dropdownsmiliesnamemore);smileyMapdes=dropdownsmiliesdes.concat(dropdownsmiliesdesmore);smileyMapurl=dropdownsmiliesurl.concat(dropdownsmiliesurlmore);for(var i in smileyMapdes)smileyReverseMap[smileyMapdes[i]]=smileyMapnam[i],smileyMap[smileyMapnam[i]]=smileyMapdes[i];
MyBBEditor={insertText:function(b,c,a,d,f){var e="",k=Object.keys(CKEDITOR.instances)[0],g=b,h=c;c||(c=h="");a||(a=k+"_2");e=a.slice(0,-2);d||(d="source");f||(f="");"source"==d?rinsourceditor.insert_text(b,c,a):(g=CKEDITOR.instances[e].dataProcessor.toDataFormat(CKEDITOR.instances[e].dataProcessor.toHtml(g+h),{context:"body"}),rinsourceditor.insert_text(g,"",a));if("undefined"!==typeof CKEDITOR&&CKEDITOR.instances&&(e||(e=k),"wysiwyg"==CKEDITOR.instances[e].mode)){a="";if(parseInt(seltext))try{a=
CKEDITOR.instances[e].getSelectedHtml().getHtml()}catch(l){}"source"==d&&""==a||"quote"==f?(data=CKEDITOR.BBCodeToHtml(g+h,e),"quote"==f&&(data=data.replace(/([\s\S]*)<\/blockquote>/,"$1\x3c/blockquote\x3e\x3cbr\x3e")),CKEDITOR.instances[e].insertHtml(data)):CKEDITOR.instances[e].insertHtml(b+a+c)}return!1}};bbfontstyle=function(b,c){MyBBEditor.insertText(b,c)};insert_text=function(b,c){c&&(b=" "+b+" ");MyBBEditor.insertText(b)};
rinsourceditor=function(){return{init:function(){return!0},insert_text:function(b,c,a){var d;a=document.getElementById(a);if(!a)return!1;if(document.selection&&document.selection.createRange)a.focus(),d=document.selection.createRange(),d.text=b+d.text+c;else if(a.selectionStart||0===a.selectionStart){d=a.selectionStart;var f=a.selectionEnd,e=a.scrollTop;a.value=a.value.substring(0,d)+b+a.value.substring(d,f)+c+a.value.substring(f,a.value.length);"\x3d"===b.charAt(b.length-2)?a.selectionStart=d+b.length-
1:a.selectionStart=d===f?f+b.length:f+b.length+c.length;a.selectionEnd=a.selectionStart;a.scrollTop=e}else a.value+=b+c;a.focus()}}}();